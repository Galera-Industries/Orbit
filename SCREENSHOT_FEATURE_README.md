# Функционал скриншотов с DeepSeek

Этот функционал позволяет делать скриншоты выбранной области экрана и отправлять их в DeepSeek API для анализа, с последующей отправкой ответов в Telegram и просмотром на Apple Watch.

## Возможности

1. **Выбор области экрана** - выберите область, с которой будут делаться скриншоты
2. **Автоматические скриншоты** - делайте скриншоты выбранной области по горячей клавише
3. **Интеграция с DeepSeek** - скриншоты автоматически отправляются в DeepSeek API с вашим промптом
4. **Telegram бот** - ответы от DeepSeek автоматически отправляются в Telegram
5. **Apple Watch приложение** - просматривайте ответы на Apple Watch с возможностью свайпа между ответами

## Настройка

### 1. DeepSeek API Key

1. Откройте настройки приложения через меню в статус-баре (правый клик на иконку Orbit)
2. Выберите "Screenshot Settings"
3. Введите ваш DeepSeek API ключ (получите на https://platform.deepseek.com)
4. Настройте промпт, который будет использоваться при отправке каждого скриншота

### 2. Telegram бот

Telegram бот уже настроен с токеном: `6627828280:AAE0QVhYUgDSgs3-ohv6GM9YlybLAfi_D0U`

1. Найдите бота в Telegram по токену или создайте нового бота через @BotFather
2. Отправьте любое сообщение боту
3. Chat ID определится автоматически при первом использовании

### 3. Выбор области для скриншотов

1. Нажмите `⌘⌥S` (Command + Option + S)
2. Выберите область экрана, перетаскивая мышью
3. Отпустите кнопку мыши для завершения выбора
4. Нажмите ESC для отмены

### 4. Создание скриншота

1. Нажмите `⌘⌥C` (Command + Option + C)
2. Скриншот выбранной области будет автоматически создан
3. Изображение будет отправлено в DeepSeek API с вашим промптом
4. Ответ будет отправлен в Telegram и сохранен для Apple Watch

## Горячие клавиши

- `⌘⌥S` - Выбрать область для скриншотов
- `⌘⌥C` - Сделать скриншот и отправить в DeepSeek

## Apple Watch приложение

### Установка

1. Откройте проект Orbit.xcodeproj в Xcode
2. Добавьте новый target для watchOS:
   - File → New → Target
   - Выберите "watchOS" → "App"
   - Назовите его "OrbitWatch"
   - Bundle Identifier: `com.orbit.app.watchkitapp`
3. Скопируйте файлы из папки `OrbitWatch` в новый target
4. Настройте App Group (опционально, для обмена данными):
   - В настройках macOS приложения добавьте App Group: `group.com.orbit.app`
   - В настройках watchOS приложения добавьте тот же App Group
   - Включите App Groups capability в обоих targets

### Использование

- Свайп влево/вправо для переключения между ответами
- Или используйте кнопки навигации внизу экрана
- Приложение автоматически обновляется каждые 2 секунды для получения новых ответов

### Примечание

Для полноценной работы App Group требуется Apple Developer аккаунт. Без него приложение будет использовать стандартный UserDefaults, что может не работать для обмена данными между macOS и watchOS приложениями. В этом случае ответы будут доступны только в Telegram.

## Структура файлов

### Сервисы

- `ScreenshotAreaSelector.swift` - выбор области экрана
- `ScreenshotService.swift` - создание скриншотов
- `ScreenshotManager.swift` - управление всем процессом
- `DeepSeekService.swift` - интеграция с DeepSeek API
- `TelegramBotService.swift` - отправка сообщений в Telegram

### UI

- `ScreenshotSettingsView.swift` - настройки функционала скриншотов

### Apple Watch

- `OrbitWatch/OrbitWatchApp.swift` - главный файл приложения
- `OrbitWatch/ContentView.swift` - интерфейс просмотра ответов

## Требования

- macOS 12.0+
- DeepSeek API ключ
- Telegram бот (уже настроен)
- Apple Watch (опционально, для просмотра ответов)

## Ограничения

- Apple Watch приложение требует настройки App Group для обмена данными между macOS и watchOS, что требует Apple Developer аккаунт
- Без App Group ответы будут доступны только в Telegram
- Telegram бот использует фиксированный токен (можно изменить в `TelegramBotService.swift`)



